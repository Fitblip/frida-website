<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>Frida 6.1 Released</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="Frida - Feed" href="/feed.xml" />
  <link rel="alternate" type="application/atom+xml" title="Recent commits to Frida’s master branch" href="https://github.com/frida/frida/frida/commits/master.atom" />
  <link rel="stylesheet" href="/css/screen.css" />
  <link rel="icon" type="image/png" href="/favicon.ico" />
  <script src="/js/modernizr-2.5.3.min.js"></script>
</head>


<body class="wrap">
  <header>
  <nav class="mobile-nav show-on-mobiles">
    <ul>
  <li class="">
    <a href="/">Overview</a>
  </li>
  <li class="">
    <a href="/docs/home/">Docs</span></a>
  </li>
  <li class="current">
    <a href="/news/">News</a>
  </li>
  <li class="">
    <a href="https://github.com/frida/frida">Code</a>
  </li>
  <li class="">
    <a href="/contact/">Contact</a>
  </li>
</ul>

  </nav>
  <div class="grid">
    <div class="logotype unit one-third center-on-mobiles">
      <a href="/">
        <span>FЯIDA</span>
        <img src="/img/logotype.svg" width="205" height="39" alt="">
      </a>
    </div>
    <nav class="main-nav unit two-thirds hide-on-mobiles">
      <ul>
  <li class="">
    <a href="/">Overview</a>
  </li>
  <li class="">
    <a href="/docs/home/">Docs</span></a>
  </li>
  <li class="current">
    <a href="/news/">News</a>
  </li>
  <li class="">
    <a href="https://github.com/frida/frida">Code</a>
  </li>
  <li class="">
    <a href="/contact/">Contact</a>
  </li>
</ul>

    </nav>
  </div>
</header>


    <section class="news">
    <div class="grid">

      <div class="docs-nav-mobile unit whole show-on-mobiles">
  <select onchange="if (this.value) window.location.href=this.value">
    <option value="">Navigate the blog…</option>
    <option value="/news/">Home</option>
    <optgroup label="v1.x">
      
      <option value="/news/2016/01/14/frida-6-1-released/">Frida 6.1 Released</option>
      
      <option value="/news/2015/11/11/frida-6-0-released/">Frida 6.0 Released</option>
      
      <option value="/news/2015/09/17/frida-5-0-released/">Frida 5.0 Released</option>
      
      <option value="/news/2015/09/10/frida-4-5-released/">Frida 4.5 Released</option>
      
      <option value="/news/2015/07/31/frida-4-4-released/">Frida 4.4 Released</option>
      
      <option value="/news/2015/07/15/frida-4-3-released/">Frida 4.3 Released</option>
      
      <option value="/news/2015/06/18/frida-4-2-released/">Frida 4.2 Released</option>
      
      <option value="/news/2015/06/09/frida-4-1-released/">Frida 4.1 Released</option>
      
      <option value="/news/2015/05/08/frida-4-0-0-released/">Frida 4.0.0 Released</option>
      
      <option value="/news/2015/03/20/frida-3-0-0-released/">Frida 3.0.0 Released</option>
      
      <option value="/news/2015/03/01/frida-2-0-2-released/">Frida 2.0.2 Released</option>
      
      <option value="/news/2015/02/28/frida-2-0-1-released/">Frida 2.0.1 Released</option>
      
      <option value="/news/2015/02/28/frida-2-0-0-released/">Frida 2.0.0 Released</option>
      
      <option value="/news/2015/02/22/frida-1-8-0-released/">Frida 1.8.0 Released</option>
      
      <option value="/news/2014/11/17/frida-1-6-8-released/">Frida 1.6.8 Released</option>
      
      <option value="/news/2014/11/03/frida-1-6-7-released/">Frida 1.6.7 Released</option>
      
      <option value="/news/2014/11/03/frida-1-6-6-released/">Frida 1.6.6 Released</option>
      
      <option value="/news/2014/10/29/frida-1-6-5-released/">Frida 1.6.5 Released</option>
      
      <option value="/news/2014/10/18/frida-1-6-4-released/">Frida 1.6.4 Released</option>
      
      <option value="/news/2014/08/24/frida-1-6-3-released/">Frida 1.6.3 Released</option>
      
      <option value="/news/2014/08/03/frida-1-6-2-released/">Frida 1.6.2 Released</option>
      
      <option value="/news/2014/07/26/frida-1-6-1-released/">Frida 1.6.1 Released</option>
      
      <option value="/news/2014/05/29/frida-1-6-0-released/">Frida 1.6.0 Released</option>
      
      <option value="/news/2014/05/14/frida-1-4-2-released/">Frida 1.4.2 Released</option>
      
      <option value="/news/2014/05/13/frida-1-4-1-released/">Frida 1.4.1 Released</option>
      
      <option value="/news/2014/05/03/frida-1-4-0-released/">Frida 1.4.0 Released</option>
      
      <option value="/news/2014/04/21/frida-1-2-1-released/">Frida 1.2.1 Released</option>
      
      <option value="/news/2014/04/17/frida-1-2-0-released/">Frida 1.2.0 Released</option>
      
      <option value="/news/2014/03/09/frida-1-0-11-released/">Frida 1.0.11 Released</option>
      
      <option value="/news/2014/02/15/frida-1-0-10-released/">Frida 1.0.10 Released</option>
      
      <option value="/news/2014/01/25/frida-1-0-9-released/">Frida 1.0.9 Released</option>
      
      <option value="/news/2014/01/15/frida-1-0-8-released/">Frida 1.0.8 Released</option>
      
      <option value="/news/2014/01/12/frida-1-0-7-released/">Frida 1.0.7 Released</option>
      
      <option value="/news/2014/01/11/frida-1-0-6-released/">Frida 1.0.6 Released</option>
      
      <option value="/news/2014/01/05/frida-1-0-5-released/">Frida 1.0.5 Released</option>
      
    </optgroup>
  </select>
</div>

      <div class="news-nav-desktop unit one-quarter hide-on-mobiles">
  <aside>
    <ul>
      <li class="">
        <a href="/news/">All News</a>
      </li>
      <li class="">
        <a href="/news/releases/">Frida Releases</a>
      </li>
    </ul>
    <h4>Recent Releases</h4>
    <ul>
      
      <li class="current">
        <a href="/news/2016/01/14/frida-6-1-released/">Version 6.1</a>
      </li>
      
      <li class="">
        <a href="/news/2015/11/11/frida-6-0-released/">Version 6.0</a>
      </li>
      
      <li class="">
        <a href="/news/2015/09/17/frida-5-0-released/">Version 5.0</a>
      </li>
      
      <li class="">
        <a href="/news/2015/09/10/frida-4-5-released/">Version 4.5</a>
      </li>
      
      <li class="">
        <a href="/news/2015/07/31/frida-4-4-released/">Version 4.4</a>
      </li>
      
      <li>
        <a href="/docs/history/">History »</a>
      </li>
    </ul>
  </aside>
</div>


      <div class="news-articles unit three-quarters">
        <article>
  <h2>
    Frida 6.1 Released
    <a href="/news/2016/01/14/frida-6-1-released/" class="permalink" title="Permalink">∞</a>
  </h2>
  <span class="post-category">
    
    <span class="label">release</span>
    
  </span>
  <div class="post-meta">
    <span class="post-date">
      14 Jan 2016
    </span>
    <a href="https://github.com/oleavr" class="post-author">
      <img src="https://github.com/oleavr.png" class="avatar" />
      oleavr
    </a>
  </div>
  <p class="post-content">
    <p>Some time ago <a href="https://github.com/s1341">@s1341</a> ported Frida to QNX, and just a
few weeks back he was running into memory footprint issues when using Frida on
embedded ARM devices. This was right after he contributed pull-requests porting
Frida to linux-arm. We started realizing that it might be time for a new
JavaScript runtime, and agreed that <a href="http://duktape.org/">Duktape</a> seemed like a
great fit for our needs.</p>

<p>This runtime has now landed, all tests are passing, and it even beats our V8
runtime on the measured overhead for a call to a hooked function with an empty
<em>onEnter</em>/<em>onLeave</em> callback. To give you an idea:</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">…/interceptor_on_enter_performance: V8 <span class="nv">min</span><span class="o">=</span>2 <span class="nv">max</span><span class="o">=</span>31 <span class="nv">avg</span><span class="o">=</span>2 OK
…/interceptor_on_enter_performance: DUK <span class="nv">min</span><span class="o">=</span>1 <span class="nv">max</span><span class="o">=</span>2 <span class="nv">avg</span><span class="o">=</span>1 OK</code></pre></figure>

<p>(Numbers are in microseconds, measured on a 4 GHz i7 running OS X 10.11.2.)</p>

<p>Anyway, even if that comparison isn’t entirely fair, as we do some clever
recycling and copy-on-write tricks that we don’t yet do in our V8 runtime, this
new runtime is already quite impressive. It also allows us to run on really tiny
devices, and the performance difference between a roaring JIT-powered monster
like V8 and a pure interpreter might not really matter for most users of Frida.</p>

<p>So starting with this release we are also including this brand new runtime
in all of our prebuilt binaries so you can try it out and tell us how it works
for you. It only adds a few hundred kilobytes of footprint, which is nothing
compared to the 6 MB that V8 adds per architecture slice. Please try it out
by passing <code class="highlighter-rouge">--disable-jit</code> to the CLI tools, or calling <code class="highlighter-rouge">session.disable_jit()</code>
before the first call to <code class="highlighter-rouge">session.create_script()</code>.</p>

<p>Considering that this new runtime also solves some issues that would require a
lot of work to fix in our JavaScriptCore runtime, like ignoring calls from
background threads and avoid poisoning the app’s heap, we decided to get rid
of that runtime and switch to this new Duktape-based runtime on OSes where V8
cannot currently run, like on iOS 9. We feature-detect this at runtime, so you
still get to use V8 on iOS 8 like before – unless you explicitly <code class="highlighter-rouge">--disable-jit</code>
as just mentioned.</p>

<p>So in closing, here’s a summary of the changes:</p>

<p>6.1.0:</p>

<ul>
  <li>core: replace the JavaScriptCore runtime with its successor built on Duktape</li>
  <li>core: add <em>disable_jit()</em> to allow users to try out the new Duktape engine</li>
  <li>core: fix crash on Linux when injecting into processes where <em>pthread_create</em>
      has never been called/bound yet</li>
  <li>core: add support for linux-armhf (e.g. Raspberry Pi)</li>
  <li>python: add <em>disable_jit()</em> to Session</li>
  <li>node: add <em>disableJit()</em> to Session</li>
  <li>CLI tools: add <em>–disable-jit</em> switch</li>
  <li>frida-repl: upgrade to latest prompt-toolkit</li>
  <li>frida-trace: fix crash when attempting to trace partially resolved imports</li>
  <li>frida-trace: stick to ES5 in the generated handlers for Duktape compatibility</li>
</ul>

<p>6.1.1:</p>

<ul>
  <li>core: fix synchronization logic and error-handling bugs in the Duktape runtime</li>
</ul>

<p>6.1.2:</p>

<ul>
  <li>core: fix Android regression resulting in crash on inject</li>
  <li>core: fix Python 3.x build regression</li>
  <li>clr: add <em>DisableJit()</em> to Session</li>
</ul>

<p>6.1.3:</p>

<ul>
  <li>core: give the iOS frida-helper all the entitlements that the Preferences app
      has, so system session scripts can read and write system configuration</li>
  <li>core: changes to support AppContainer ACL on temporary directory/files within</li>
  <li>node: fix pid check so it allows attaching to the system session</li>
</ul>

<p>Enjoy!</p>

  </p>
</article>

      </div>

    </div>
  </section>


  <footer>
</footer>

  


  <!-- Google Analytics (http://google.com/analytics) -->
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-46880695-1']);
    _gaq.push(['_setDomainName', '']); // Multiple sub-domains
    _gaq.push(['_setAllowLinker', true]); // Multiple TLDs
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>



</body>
</html>
